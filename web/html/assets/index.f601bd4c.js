var I=Object.defineProperty,k=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var N=(e,t,r)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=(e,t)=>{for(var r in t||(t={}))F.call(t,r)&&N(e,r,t[r]);if(E)for(var r of E(t))T.call(t,r)&&N(e,r,t[r]);return e},g=(e,t)=>k(e,L(t));import{r as d,j as h,G as p,a as n,T as m,I as R,B,D as z,b as P,c as y,s as j,F as A,S as M,R as O,d as G}from"./vendor.538572bb.js";const $=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}};$();const U=()=>!window.invokeNative,C=()=>{},w=(e,t)=>{const r=d.exports.useRef(C);d.exports.useEffect(()=>{r.current=t},[t]),d.exports.useEffect(()=>{const i=o=>{const{action:s,data:a}=o.data;r.current&&s===e&&r.current(a)};return window.addEventListener("message",i),()=>window.removeEventListener("message",i)},[e])},H=window.GetParentResourceName?window.GetParentResourceName():"nui-frame-app";async function u(e,t){if(!U())try{return await(await fetch(`https://${H}/${e}`,{method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)})).json()}catch(r){throw Error(`Failed to fetch NUI callback ${e}! (${r})`)}}const K=["Escape"],S=e=>{const t=d.exports.useRef(C);d.exports.useEffect(()=>{t.current=e},[e]),d.exports.useEffect(()=>{const r=i=>{K.includes(i.code)&&(t.current(!1),u("hideFrame"))};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[])};const q=({id:e,value:t,min:r,max:i,onInputChange:o,handleBlur:s})=>h(p,{container:!0,spacing:2,children:[n(p,{item:!0,xs:4,children:n(m,{variant:"body1",color:"white",align:"center",children:e})}),n(p,{item:!0,xs:8,children:n(R,{value:t,sx:{color:"white"},size:"small",onChange:a=>o(e,a.target.value),onBlur:()=>s(e,t,r,i),inputProps:{step:.05,min:r,max:i,type:"number","aria-labelledby":"input-slider"}})})]}),J=()=>{const[e,t]=d.exports.useState({prop:"",bone:0,xpos:0,ypos:0,zpos:0,xrot:0,yrot:0,zrot:0}),r=[{name:"xpos",min:-25,max:25},{name:"ypos",min:-25,max:25},{name:"zpos",min:-25,max:25},{name:"xrot",min:-360,max:360},{name:"yrot",min:-360,max:360},{name:"zrot",min:-360,max:360}];d.exports.useEffect(()=>{u("getCurrentProp").then(c=>{t(c)}).catch(c=>console.error("Error getting data"))},[]);const i=()=>{u("toggleNui")},o=()=>{u("setPropData",e)},s=()=>{u("spawnProp",e)},a=()=>{u("deleteProp")},l=(c,x)=>{t(g(f({},e),{[c]:x}))},D=(c,x,v,b)=>{Number(x)<v?t(g(f({},e),{[c]:v})):Number(x)>b&&t(g(f({},e),{[c]:b})),u("setPropData",e)};return n(B,{sx:{width:"15vw",backgroundColor:"darkGray",padding:"20px",borderRadius:"20px",position:"fixed",bottom:"0.5rem",right:"0.5rem"},children:h(p,{container:!0,spacing:2,alignItems:"center",children:[h(p,{item:!0,xs:12,children:[n(m,{variant:"h4",color:"white",children:"Prop Menu"}),n(z,{})]}),n(p,{item:!0,xs:6,children:n(P,{id:"prop-name",label:"Prop Name",size:"small",value:e.prop,onChange:c=>l("prop",c.currentTarget.value)})}),n(p,{item:!0,xs:3,children:n(y,{onClick:s,children:"Spawn"})}),n(p,{item:!0,xs:3,children:n(y,{color:"secondary",onClick:a,children:"Delete"})}),n(p,{item:!0,xs:9,children:n(P,{id:"bone-index",label:"Bone Index",size:"small",value:e.bone,onChange:c=>l("bone",c.currentTarget.value),inputProps:{inputMode:"numeric",pattern:"[0-9]*"}})}),n(p,{item:!0,xs:3,children:n(y,{onClick:o,children:"Set"})}),r.map((c,x)=>n(p,{item:!0,xs:12,children:n(q,{id:c.name,value:Number(e[c.name]),min:c.min,max:c.max,onInputChange:l,handleBlur:D})},x)),n(p,{item:!0,xs:6,children:n(y,{onClick:i,children:"Toggle NUI"})})]})})},Y=j("div")(({theme:e})=>({position:"fixed",right:"50%",bottom:"5rem"})),_=()=>{const[e,t]=d.exports.useState(!1),[r,i]=d.exports.useState(!1),[o,s]=d.exports.useState({animindex:"",anim:"",prop:"",bone:0});return S(t),S(i),w("setAnimPropData",a=>{s(a)}),w("displayFrame",a=>{t(a)}),w("copyClipboard",a=>{const l=document.createElement("textarea");l.value=a.text,document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l)}),w("displayInfo",a=>{i(a)}),h(A,{children:[r&&n(Y,{children:h(M,{spacing:0,children:[n(m,{align:"center",variant:"h6",sx:{color:"white",textShadow:"-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000"},children:o.animindex}),n(m,{align:"center",variant:"h6",sx:{color:"white",textShadow:"-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000"},children:o.anim}),n(m,{align:"center",variant:"h6",sx:{color:"white",textShadow:"-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000"},children:o.prop}),n(m,{align:"center",variant:"h6",sx:{color:"white",textShadow:"-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000"},children:o.bone})]})}),e&&n(J,{})]})};O.render(n(G.StrictMode,{children:n(_,{})}),document.getElementById("root"));
